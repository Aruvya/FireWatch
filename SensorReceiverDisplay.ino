#include <LiquidCrystal_I2C.h>       // Подключение библиотеки для LCD-дисплея с интерфейсом I2C
#include <Wire.h>                    // Подключение библиотеки для работы с I2C
#include <iarduino_RF433_Receiver.h> // Подключение библиотеки для 433 МГц приемника (MX-RM-5V)

// Инициализация компонентов
iarduino_RF433_Receiver radio(2);    // Объект приемника, пин 2 для подключения
LiquidCrystal_I2C lcd(0x27, 16, 2);  // LCD-дисплей с I2C адресом 0x27, размером 16x2 символов

int data;                            // Переменная для хранения принимаемых данных

void setup() {
    Serial.begin(19200);             // Инициализация серийного порта для отладки
    radio.begin();                   // Инициализация приемника
    radio.setDataRate(i433_1KBPS);   // Установка скорости приема данных (1 Кбит/с)
    radio.openReadingPipe(5);        // Открытие канала 5 для приема данных
    radio.startListening();          // Запуск режима прослушивания
    lcd.init();                      // Инициализация LCD-дисплея
    lcd.backlight();                 // Включение подсветки дисплея
    lcd.clear();                     // Очистка дисплея перед началом работы
}

void loop() {
    if (radio.available()) {         // Проверка наличия данных в буфере приемника
        radio.read(&data, sizeof(data)); // Чтение данных и сохранение в переменную `data`

        // Логирование данных в Serial Monitor
        Serial.println("Полученные данные: " + String(data));

        // Вывод данных на LCD-дисплей
        lcd.clear();                 // Очистка дисплея перед выводом новых данных
        lcd.setCursor(0, 0);         // Установка курсора в начало первой строки
        lcd.print("Данные: ");       // Печать заголовка
        lcd.print(data);             // Печать данных

        delay(5000);                 // Задержка для отображения данных
    }
}
